<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!--Requiring A-Frame script-->
  <script src="https://aframe.io/releases/1.1.0/aframe.min.js"></script>
  <!--A-Frame environment-->
  <script src="https://unpkg.com/aframe-environment-component@1.1.0/dist/aframe-environment-component.min.js"></script>
  <!--A-Frame Extras: https://github.com/n5ro/aframe-extras-->
  <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
  <!--A-Frame gif shaders to display GIF-->
  <script src="https://rawgit.com/mayognaise/aframe-gif-shader/master/dist/aframe-gif-shader.min.js"></script>
  <script src="https://rawgit.com/mayognaise/aframe-gif-component/master/dist/aframe-gif-component.min.js"></script>
  <!--Components-->
  <script src="/js/components/selectable.js"></script>
  <script src="/js/components/deselect-control.js"></script>

  <title>Mix N' Match</title>
</head>
<body>
  <a-scene>
    <a-assets>
      <!--"Retro TV" (https://skfb.ly/6RKxy) by Alex is licensed under Creative Commons Attribution (http://creativecommons.org/licenses/by/4.0/).-->
      <a-asset-item id="tv" src="models/cartoon_tv/scene.gltf"></a-asset-item>
      <!--"Worn couch" (https://skfb.ly/UrCB) by Simon Phan is licensed under Creative Commons Attribution (http://creativecommons.org/licenses/by/4.0/).-->
      <a-asset-item id="couch" src="models/worn_couch/scene.gltf"></a-asset-item>
      <!--"Alfa Romeo Stradale 1967" (https://skfb.ly/6xMZX) by Ipatov Kirill is licensed under Creative Commons Attribution-NonCommercial (http://creativecommons.org/licenses/by-nc/4.0/).-->
      <a-asset-item id="car" src="models/alfa_romeo_stradale_1967/scene.gltf"></a-asset-item>
    </a-assets>

    <!--Start of UI-->
    <!--Camera-->
    <a-entity camera wasd-controls look-controls position="0 1.6 0">
      <a-entity cursor="rayOrigin:mouse;" raycaster="far:20; interval:200; objects:.clickable;"></a-entity>
      <a-circle deselect-control id="close-button" color="#FFFFFF" radius="0.05" position="0.331 0.196 -0.903" visible="false">
        <a-text text="value: X" align="center" width="1" color="#000000"></a-text>
      </a-circle>
      <!--on-camera-selectable class used for grabbing all objects that can appear on camera when selected-->
      <!--all on-camera-selectables need a target to display the related object in scene once closed-->
      <a-entity gltf-model="#tv" scale="0.015 0.015 0.015" position="0 -0.521 -1.329" class="on-camera-selectable" id="selected-tv-controller" position="0 0 -1.0" visible="false" target="tv-controller">
        <a-entity geometry="primitive:plane; width:45; height:45;" position="-3.630 25.027 8.382" rotation="-3.767 0 0"></a-entity>
      </a-entity>
    </a-entity>
    
    <!--TV (Controller)-->
    <a-entity gltf-model="#tv" scale="0.015 0.015 0.015" position="0 0.332 -1.814" id="tv-controller" class="clickable selectable" selectable="target: selected-tv-controller">
      <a-entity geometry="primitive:plane; width:45; height:45;" position="-3.630 25.027 8.382" rotation="-3.767 0 0" material="shader:gif; src: url(https://media.giphy.com/media/3o85xkFg46ZHS6vX8Y/giphy.gif);" gif=""></a-entity>
    </a-entity>

    <!--Initial Scene-->
    <a-entity gltf-model="#couch" rotation="0 180 0" scale="0.5 0.5 0.5"></a-entity>
    <a-entity geometry="primitive:plane; width:5; height:5;" material="color:#030303" rotation="-90 0 0"></a-entity>
    <a-entity gltf-model="#car" position="0.502 -0.154 -0.717" scale="20 20 20" rotation="0 180 0" animation="property: rotation; from: 0 180 0; to: -0.5 180 0; dir: alternate; dur: 400; easing: easeOutQuad; loop:true;" visible="false"></a-entity>
    
    <a-sky color="#000000"></a-sky>
    <a-entity light="type: directional; color: #fef3c8; intensity: 2;" position="0 2.309 0.236"></a-entity>
    <a-entity environment="preset: starry; active: false;" animation="property: position; from: 0 0 -3; to: 0 0 -2; easing: linear; loop: true; dur: 1000;"></a-entity>
  </a-scene>
</body>
</html>